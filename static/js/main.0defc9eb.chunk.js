(this["webpackJsonpkill-bill"]=this["webpackJsonpkill-bill"]||[]).push([[0],{21:function(e,t,n){},23:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var l=n(0),i=n.n(l),s=n(3),c=n.n(s),a=(n(21),n(13)),r=n(4),o=n(1),u=Object(l.createContext)(),d=function(e){var t=e.children,n=Object(l.useState)([]),i=Object(r.a)(n,2),s=i[0],c=i[1],d=Object(l.useState)("Monthly"),b=Object(r.a)(d,2),j=b[0],m=b[1],O=Object(l.useState)(!1),f=Object(r.a)(O,2),h=f[0],v=f[1];Object(l.useEffect)((function(){c(JSON.parse(localStorage.getItem("user-bills"))||[])}),[c]),Object(l.useEffect)((function(){console.log(s)}),[s]);var x=function(e){return e.sort((function(e,t){return e.title.toUpperCase()<t.title.toUpperCase()?-1:0}))};return Object(o.jsx)(u.Provider,{value:{bills:s,updateBills:function(e){var t=x([].concat(Object(a.a)(s),[e]));localStorage.setItem("user-bills",JSON.stringify(t)),c(t)},editBill:function(e){var t=s.filter((function(t){return t.title!==e.title})),n=x([].concat(Object(a.a)(t),[e]));localStorage.setItem("user-bills",JSON.stringify(n)),c(n)},selectedCostInterval:j,setSelectedCostInterval:m,setEditModeEnabled:v,editModeEnabled:h,deleteBill:function(e){var t=s.filter((function(t){return t.title!==e.title}));localStorage.setItem("user-bills",JSON.stringify(t)),c(t)}},children:t})},b=(n(23),n(5)),j=function(){var e=Object(b.useToasts)().addToast,t=Object(l.useState)(""),n=Object(r.a)(t,2),i=n[0],s=n[1],c=Object(l.useState)(""),a=Object(r.a)(c,2),d=a[0],j=a[1],m=Object(l.useContext)(u).updateBills;return Object(o.jsxs)("div",{className:"add-bill-container",children:[Object(o.jsx)("input",{className:"add-bill-form-control form-control",placeholder:"Enter Bill title",type:"text",value:i,autofocus:!0,onChange:function(e){return s(e.target.value)}}),Object(o.jsx)("input",{className:"add-bill-form-control form-control",placeholder:"Enter Bill Monthly Cost",type:"number",min:"0",step:"1",oninput:"validity.valid||(value='');",value:d,onChange:function(e){return j(e.target.value)}}),Object(o.jsx)("button",{className:"add-bill-form-control btn btn-dark",type:"submit",onClick:function(){(function(){i.split("").find((function(e){return" "!==e}))||e("Please enter a bill title",{appearance:"warning",autoDismiss:!0,autoDismissTimeout:4e3}),d||e("Please enter a bill cost",{appearance:"warning",autoDismiss:!0,autoDismissTimeout:4e3}),Number.parseFloat(d)<0&&e("Please enter a non-negative bill cost",{appearance:"warning",autoDismiss:!0,autoDismissTimeout:4e3});var t=d&&Number.parseFloat(d)>0,n=i&&i.split("").find((function(e){return" "!==e}));return n&&t&&e("Bill added successfuly",{appearance:"success",autoDismiss:!0,autoDismissTimeout:4e3}),n&&t})()&&(m({title:i.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "),monthlyCost:d,enabled:!0}),s(""),j(""))},children:"Add Bill"}),"\xa0",Object(o.jsx)("hr",{})]})},m=(n(32),function(){var e=Object(l.useContext)(u),t=e.bills,n=e.editBill,i=e.setEditModeEnabled;return Object(o.jsxs)("div",{className:"bill-list-container text-center",children:[t.map((function(e,t){return Object(o.jsxs)("div",{className:"bill-list-row",children:[Object(o.jsx)("input",{type:"checkbox",className:"form-check-input",checked:e.enabled,onChange:function(){return n({title:e.title,monthlyCost:e.monthlyCost,enabled:!e.enabled})}}),Object(o.jsxs)("div",{className:"bill-list-row-content",children:[e.title," - \u20b9 ",e.monthlyCost]})]},t)})),JSON.parse(localStorage.getItem("user-bills")).length>0?Object(o.jsx)("h6",{className:"edit-mode-btn btn btn-outline-dark",onClick:function(){return i(!0)},children:"EDIT"}):""]})}),O=(n(33),function(){var e=Object(l.useContext)(u),t=e.selectedCostInterval,n=e.setSelectedCostInterval;return Object(o.jsxs)("div",{className:"interval-options-container",children:[Object(o.jsx)("div",{className:"Daily"===t?"selected-interval":"interval",onClick:function(e){return n(e.target.innerText)},children:"Daily"}),Object(o.jsx)("div",{className:"Weekly"===t?"selected-interval":"interval",onClick:function(e){return n(e.target.innerText)},children:"Weekly"}),Object(o.jsx)("div",{className:"Monthly"===t?"selected-interval":"interval",onClick:function(e){return n(e.target.innerText)},children:"Monthly"}),Object(o.jsx)("div",{className:"Yearly"===t?"selected-interval":"interval",onClick:function(e){return n(e.target.innerText)},children:"Yearly"})]})}),f=(n(34),function(){var e=Object(l.useContext)(u),t=e.bills,n=e.selectedCostInterval,i=function(e){var t=Number.parseFloat(e);switch(n){case"Monthly":return t;case"Yearly":return 12*t;case"Weekly":return 12*t/52;case"Daily":return 12*t/365;default:return 0}};return Object(o.jsxs)("div",{className:"total-container",children:[Object(o.jsxs)("div",{className:"bill-total-container",children:[n," bill cost :",Object(o.jsx)("span",{className:"total-cost",children:"\u20b9 "+t.reduce((function(e,t){return t.enabled?i(t.monthlyCost)+e:e}),0).toFixed(2)})]}),Object(o.jsxs)("div",{className:"total-save-container",children:[n," saved :",Object(o.jsx)("span",{className:"total-saved",children:"\u20b9 "+t.reduce((function(e,t){return t.enabled?e:i(t.monthlyCost)+e}),0).toFixed(2)})]})]})}),h=(n(35),function(){var e=Object(b.useToasts)().addToast,t=Object(l.useContext)(u),n=t.bills,i=t.setEditModeEnabled,s=t.editBill,c=t.deleteBill;return Object(o.jsxs)("div",{className:"edit-bill-container",children:[Object(o.jsx)("h5",{className:"edit-mode-done-btn btn btn-success",onClick:function(){e("Bill/s edited !",{appearance:"success",autoDismiss:!0,autoDismissTimeout:3e3}),i(!1)},children:"Done !"}),n.length>0?n.map((function(t,n){return Object(o.jsxs)("div",{className:"edit-bill-row",children:[Object(o.jsxs)("div",{className:"edit-bill-row-content",children:[Object(o.jsxs)("div",{className:"edit-bill-title",children:[t.title," : "]}),Object(o.jsx)("input",{className:"edit-bill-cost-input",type:"number",value:t.monthlyCost,onChange:function(e){return s({title:t.title,monthlyCost:t.monthlyCost,enabled:t.enabled})}}),Object(o.jsx)("h6",{onClick:function(){c(t),e("A bill title has been deleted",{appearance:"info",autoDismiss:!0,autoDismissTimeout:3e3})},className:"delete-button btn btn-outline-danger",children:"DELETE"})]}),Object(o.jsx)("hr",{})]},n)})):Object(o.jsx)("div",{className:"no-bill",children:"No bills.."})]})}),v=(n(36),function(){var e=Object(l.useContext)(u).editModeEnabled;return Object(o.jsx)("div",{className:"main-container",children:e?Object(o.jsx)(h,{}):Object(o.jsxs)("span",{children:[Object(o.jsx)(O,{}),Object(o.jsx)(j,{}),Object(o.jsx)(f,{}),Object(o.jsx)(m,{})]})})});c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(d,{children:Object(o.jsx)(b.ToastProvider,{children:Object(o.jsx)(v,{})})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.0defc9eb.chunk.js.map